# CatAttack Configuration
# Based on the paper: "Cats Confuse Reasoning LLM: Query-Agnostic Adversarial Triggers for Reasoning Models"

# Model configurations for the three components of CatAttack
models:
  # Attacker model - generates adversarial suffixes
  attacker:
    provider: "openai"
    model: "gpt-4o"
    base_url: "https://api.openai.com/v1"
    api_key_env: "OPENAI_API_KEY"
    max_tokens: 2048
    temperature: 0.7
    
  # Proxy target model - weaker model used for iterative optimization
  # Using Fireworks AI with OpenAI-compatible API
  proxy_target:
    provider: "openai"  # Use "openai" for any OpenAI-compatible API
    model: "accounts/fireworks/models/deepseek-v3"
    base_url: "https://api.fireworks.ai/inference/v1"
    api_key_env: "FIREWORKS_API_KEY"
    max_tokens: 4096
    temperature: 0.0
    
  # Target model - evaluation model the suffixes are transferred to
  target_model:
    provider: "openai"
    model: "gpt-4o"
    base_url: "https://api.openai.com/v1"
    api_key_env: "OPENAI_API_KEY"
    max_tokens: 2048
    temperature: 0.0

  # Judge model - evaluates if attack was successful
  judge:
    provider: "openai"
    model: "gpt-4o"
    base_url: "https://api.openai.com/v1"
    api_key_env: "OPENAI_API_KEY"
    max_tokens: 1024
    temperature: 0.0

# Dataset configuration
# Replace {{hf_dataset_name}} with your dataset, or leave empty to use hardcoded samples
dataset:
  name: "AI-MO/NuminaMath-CoT"
  split: "test"
  num_problems: 5
  problem_field: "problem"
  answer_field: "solution"

# Test dataset configuration (for baseline evaluations)
test_dataset:
  name: "AI-MO/NuminaMath-CoT"
  split: "train"
  num_problems: 5
  problem_field: "problem"
  answer_field: "solution"

# Attack configuration
attack:
  max_iterations: 10
  num_threads: 5

# Logging and output
logging:
  level: "INFO"
  log_file: "catattack.log"
  
output:
  results_dir: "results"
  save_triggers: true
  push_to_hub: false
  hub_dataset_name: "your-org/catattack-problems"  # Replace with your HuggingFace dataset
  hub_private: true
  include_failed_attacks: true

# Evaluation configuration
evaluation:
  model_key: "target_model"  # model used for both baseline and suffix evaluation
  num_runs: 6
  num_problems: 1
  results_file: "evaluation_results.json"
